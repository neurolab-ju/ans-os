---
API: 2
OpenSesame: 3.1.2
Platform: posix
---
set width 1024
set uniform_coordinates yes
set title "New experiment"
set subject_parity even
set subject_nr 0
set start experiment
set sound_sample_size -16
set sound_freq 48000
set sound_channels 2
set sound_buf_size 1024
set round_decimals 2
set my_const 10
set isTrue True
set height 768
set fullscreen no
set form_clicks no
set foreground white
set font_underline no
set font_size 18
set font_italic no
set font_family mono
set font_bold no
set experiment_path "/Users/michaeltesar/Desktop"
set disable_garbage_collection yes
set description "The main experiment item"
set coordinates uniform
set compensation 0
set canvas_backend xpyriment
set bidi no
set background black

define sequence experiment
	set flush_keyboard yes
	set description "Runs a number of items in sequence"
	run initialize always
	run introduction always
	run notepad always
	run fish_loop always
	run set_level always
	run trial_feedback always

define sketchpad fish_10
	set duration 0
	set description "Displays stimuli"
	draw textline center=1 color=white font_bold=no font_family=mono font_italic=no font_size=50 html=yes show_if=always text="[log_10]" x=0 y=0 z_index=0

define sketchpad fish_11
	set duration 0
	set description "Displays stimuli"
	draw textline center=1 color=white font_bold=no font_family=mono font_italic=no font_size=50 html=yes show_if=always text="[log_11]" x=0 y=0 z_index=0

define sketchpad fish_12
	set duration 0
	set description "Displays stimuli"
	draw textline center=1 color=white font_bold=no font_family=mono font_italic=no font_size=50 html=yes show_if=always text="[log_12]" x=0 y=0 z_index=0

define loop fish_loop
	set source_file ""
	set source table
	set repeat 1
	set order random
	set description "Repeatedly runs another item"
	set cycles 10
	set continuous no
	set break_if_on_first yes
	set break_if never
	setcycle 0 log_10 "log 1.0 1"
	setcycle 0 log_11 "log 1.1 1"
	setcycle 0 log_12 "log 1.2 1"
	setcycle 0 color red
	setcycle 0 correct r
	setcycle 1 log_10 "log 1.0 2"
	setcycle 1 log_11 "log 1.1 2"
	setcycle 1 log_12 "log 1.2 2"
	setcycle 1 color blue
	setcycle 1 correct b
	setcycle 2 log_10 "log 1.0 3"
	setcycle 2 log_11 "log 1.1 3"
	setcycle 2 log_12 "log 1.2 3"
	setcycle 2 color red
	setcycle 2 correct r
	setcycle 3 log_10 "log 1.0 4"
	setcycle 3 log_11 "log 1.1 4"
	setcycle 3 log_12 "log 1.2 4"
	setcycle 3 color blue
	setcycle 3 correct b
	setcycle 4 log_10 "log 1.0 5"
	setcycle 4 log_11 "log 1.1 5"
	setcycle 4 log_12 "log 1.2 5"
	setcycle 4 color red
	setcycle 4 correct r
	setcycle 5 log_10 "log 1.0 6"
	setcycle 5 log_11 "log 1.1 6"
	setcycle 5 log_12 "log 1.2 6"
	setcycle 5 color blur
	setcycle 5 correct b
	setcycle 6 log_10 "log 1.0 7"
	setcycle 6 log_11 "log 1.1 7"
	setcycle 6 log_12 "log 1.2 7"
	setcycle 6 color red
	setcycle 6 correct r
	setcycle 7 log_10 "log 1.0 8"
	setcycle 7 log_11 "log 1.1 8"
	setcycle 7 log_12 "log 1.2 8"
	setcycle 7 color blue
	setcycle 7 correct b
	setcycle 8 log_10 "log 1.0 9"
	setcycle 8 log_11 "log 1.1 9"
	setcycle 8 log_12 "log 1.2 9"
	setcycle 8 color red
	setcycle 8 correct r
	setcycle 9 log_10 "log 1.0 10"
	setcycle 9 log_11 "log 1.1 10"
	setcycle 9 log_12 "log 1.2 10"
	setcycle 9 color blue
	setcycle 9 correct b
	run trial

define inline_script initialize
	set description "Executes Python code"
	___run__
	var.LOG = 10
	var.SCORE = 0
	__end__
	set _prepare ""

define sketchpad introduction
	set duration keypress
	set description "Displays stimuli"
	draw textline center=1 color=white font_bold=no font_family=mono font_italic=no font_size=18 html=yes show_if=always text="Toto je testovac√≠ verze ryb√≠ho experimentu" x=0 y=0 z_index=0
	draw textline center=1 color=white font_bold=no font_family=mono font_italic=no font_size=18 html=yes show_if=always text="Pro pokraƒçov√°n√≠ stisknƒõte libovolnou kl√°vesu." x=0.0 y=64.0 z_index=0

define keyboard_response keyboard
	set timeout infinite
	set flush yes
	set duration keypress
	set description "Collects keyboard responses"
	set correct_response "[correct]"
	set allowed_responses "r;b"

define logger logger
	set description "Logs experimental data"
	set auto_log yes
	log LOG

define notepad notepad
	__note__
	liche R
	sude Bpbbbrrrbbrrq
	__end__
	set description "A simple notepad to document your experiment. This plug-in does nothing."

define inline_script set_level
	set description "Executes Python code"
	___run__
	#¬†Set proper level on score
	if var.SCORE < 60:
		print "LEVEL DOWN"
	elif var.SCORE == 60:
		print "LEVEL KEEP"
	elif var.SCORE > 60:
		print "LEVEL UP"
	else:
		print "Cannot adjust level"
	__end__
	set _prepare ""

define sequence trial
	set flush_keyboard yes
	set description "Runs a number of items in sequence"
	run fish_10 "[LOG] = 10"
	run fish_11 "[LOG] = 11"
	run fish_12 "[LOG] = 12"
	run keyboard always
	run logger always

define feedback trial_feedback
	set reset_variables yes
	set duration 1500
	set description "Provides feedback to the participant"
	draw textline center=1 color=white font_bold=no font_family=mono font_italic=no font_size=30 html=yes show_if=always text="Your reaction time: [avg_rt] ms<br />Your score: [acc] %" x=0 y=0 z_index=0
